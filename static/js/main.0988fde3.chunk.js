(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(32)},28:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(8),i=n.n(o),u=n(2),l=n(3),f=function(e){return Object(l.action)("SET_DIFFICULTY",e)},d=function(e){return Object(l.action)("SET_SMILEY_BUTTON",e)},m=function(e){return Object(l.action)("ON_MOUSE_ENTER",e)},s=function(e,t){return Object(l.action)("CELL_BOTH_CLICK",{x:e,y:t})},b=n(1),v=n(4),p=n(16),h=n(11),O=n.n(h),g=[{label:"easy",config:{mines:10,width:9,height:9}},{label:"intermediate",config:{mines:40,width:16,height:16}},{label:"expert",config:{mines:99,width:30,height:16}}],E=function(e){var t=e.split("_");return{x:parseInt(t[0],10),y:parseInt(t[1],10)}},j=function(e,t,n){return t*n+e},y=function(e){return e.difficulty},T=function(e){return e.difficulty.config},I=function(e){return T(e).width},L=function(e){return e.timeCounter},_=function(e){return e.minesCounter},C=function(e){return e.smileyButton},M=function(e){return e.mouseLeft},N=function(e){return e.mouseRight},w=function(e){return void 0!==M(e)},S=function(e){return void 0!==N(e)},k=function(e){return e.clockRunning};n(28);!function(e){e[e.HEIGHT=0]="HEIGHT",e[e.WIDTH=1]="WIDTH",e[e.MINES=2]="MINES"}(a||(a={}));var R,D=function(){var e,t=Object(r.useState)((e={},Object(v.a)(e,"height",10),Object(v.a)(e,"width",10),Object(v.a)(e,"mines",10),e)),n=Object(p.a)(t,2),o=n[0],i=n[1],l=Object(u.c)(y),d=Object(u.b)(),m=function(e,t){if(t===a.HEIGHT){var n=e.target.value;i(function(e){return Object(b.a)(Object(b.a)({},e),{},Object(v.a)({},"height",n))})}else if(t===a.WIDTH){var r=e.target.value;i(function(e){return Object(b.a)(Object(b.a)({},e),{},Object(v.a)({},"width",r))})}else if(t===a.MINES){var c=e.target.value;i(function(e){return Object(b.a)(Object(b.a)({},e),{},Object(v.a)({},"mines",c))})}};return c.a.createElement("div",{className:"DS_options"},g.map(function(e){return c.a.createElement("button",{key:e.label,className:O()("DS_option",{DS_option_active:l.label===e.label}),onClick:function(){d(f(e))}},e.label)}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={label:"custom",config:{height:o.height,width:o.width,mines:o.mines}};o.height>=10&&o.width>=10&&d(f(t))}},c.a.createElement("input",{type:"submit",value:"Custom",key:"custom",className:O()("DS_option",{DS_option_active:"custom"===l.label})}),c.a.createElement("label",null,"Height:",c.a.createElement("input",{type:"number",name:"height1",value:o.height,onChange:function(e){return m(e,a.HEIGHT)}})),c.a.createElement("label",null,"Width:",c.a.createElement("input",{type:"number",name:"width1",value:o.width,onChange:function(e){return m(e,a.WIDTH)}})),c.a.createElement("label",null,"Mines:",c.a.createElement("input",{type:"number",name:"mines",value:o.mines,onChange:function(e){return m(e,a.MINES)}}))))},x=n(6),H=n(5),B=function(e){return"x"===e},F=function(e,t,n,a,r){var c=e*t,o=Array(c);o[j(n,a,e)]="X";for(var i=new Array(c-1),u=0;u<r;u++)i[u]="x";i=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}(i);for(var l=0,f=0;l<c;l++)"X"!==o[l]&&(o[l]=i[f++]);for(var d=0;d<c;++d)if("x"!==o[d]){var m=Y(d,e,c).map(function(e){return"x"===o[e]?1:0}).reduce(function(e,t){return e+t},0);o[d]="".concat(m)}return o};!function(e){e.blank="blank",e.pressed="pressed",e.bombflagged="bombflagged",e.bombrevealed="bombrevealed",e.bombmisflagged="bombmisflagged",e.bombdeath="bombdeath",e.open0="open0",e.open1="open1",e.open2="open2",e.open3="open3",e.open4="open4",e.open5="open5",e.open6="open6",e.open7="open7",e.open8="open8"}(R||(R={}));var U,G=function(e){return e===R.blank},K=function(e){return e.startsWith("open")},P=function(e){return e===R.bombflagged},W=function(e,t,n){for(var a=Object(H.a)(e),r=0;r<e.length;++r){var c=e[r],o=t[r];K(c)||(G(c)&&B(o)&&(a[r]=n===r?R.bombdeath:R.bombrevealed),P(c)&&(a[r]=B(o)?R.bombflagged:R.bombmisflagged))}return a},Y=function(e,t,n){var a=[],r=e%t===0,c=e%t===t-1,o=e<t,i=e+t>=n;return r||a.push(e-1),c||a.push(e+1),o||(a.push(e-t),r||a.push(e-t-1),c||a.push(e-t+1)),i||(a.push(e+t),r||a.push(e+t-1),c||a.push(e+t+1)),a},A=function e(t,n,a,r){var c=Object(H.a)(t),o=n[a];if("1"===o)return c[a]=R.open1,c;if("2"===o)return c[a]=R.open2,c;if("3"===o)return c[a]=R.open3,c;if("4"===o)return c[a]=R.open4,c;if("5"===o)return c[a]=R.open5,c;if("6"===o)return c[a]=R.open6,c;if("7"===o)return c[a]=R.open7,c;if("8"===o)return c[a]=R.open8,c;if("0"===o){c[a]=R.open0;for(var i=Y(a,r,t.length).filter(function(e){return G(t[e])&&("x"!==(a=n[e])&&"X"!==a);var a}),u=0;u<i.length;++u)c=e(c,n,i[u],r)}return c};!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.MIDDLE=2]="MIDDLE"}(U||(U={}));var X,J=function(e){return 0===e.nativeEvent.button?U.LEFT:2===e.nativeEvent.button?U.RIGHT:U.MIDDLE},q=function(e){var t=e.x,n=e.y,a="".concat(t,"_").concat(n),r=Object(u.b)(),o=Object(u.c)(function(e,t){return function(n){return n.board[function(e,t,n){return t*n+e}(e,t,I(n))]}}(t,n)),i=Object(u.c)(function(e){return function(t){return M(t)===e}}(a)),f=Object(u.c)(S),d=Object(u.c)(w),b=Object(u.c)(function(e){return function(t){var n=N(t);if(!n)return!1;var a=E(e),r=a.x,c=a.y,o=E(n),i=o.x,u=o.y;return Math.abs(r-i)<=1&&Math.abs(c-u)<=1}}(a));return o===R.blank&&(i||d&&f&&b)&&(o=R.pressed),c.a.createElement("div",{key:a,className:"square ".concat(o),onContextMenu:function(e){e.preventDefault()},onMouseDown:function(e){var t;r((t={key:J(e),target:a},Object(l.action)("ON_MOUSE_DOWN",t))),e.stopPropagation()},onMouseUp:function(e){var c,o=J(e);r((c={key:o,target:a},Object(l.action)("ON_MOUSE_UP",c))),o===U.LEFT?r(f?s(t,n):function(e,t){return Object(l.action)("CELL_LEFT_CLICK",{x:e,y:t})}(t,n)):o===U.RIGHT&&r(d?s(t,n):function(e,t){return Object(l.action)("CELL_RIGHT_CLICK",{x:e,y:t})}(t,n)),e.stopPropagation()},onMouseOver:function(e){r(m({target:a})),e.stopPropagation()}})},z=function(){for(var e=Object(u.c)(T),t=e.height,n=e.width,a=function(e){return c.a.createElement("div",{key:e,className:"borderlr"})},r=[],o=0;o<t;++o){r.push(a("".concat(o,"-l")));for(var i=0;i<n;++i)r.push(c.a.createElement(q,{key:"".concat(o,"-").concat(i),x:i,y:o}));r.push(a("".concat(o,"-r")))}var l=Object(x.range)(n).map(function(e){return c.a.createElement("div",{key:e,className:"bordertb"})});return c.a.createElement("div",{className:"minesweeper-board"},r,c.a.createElement("div",{className:"borderbl"}),l,c.a.createElement("div",{className:"borderbr"}))},Q=function(e,t){if(1===t&&e<0)return"-";var n=Math.pow(10,3-t),a=Math.floor(Math.abs(e)/n%10);return Math.abs(a)},V=function(e){var t=e.id,n=e.value;return c.a.createElement("div",{style:{backgroundImage:"none"}},c.a.createElement("div",{className:"time".concat(Q(n,1)),id:t+"_hundreds"}),c.a.createElement("div",{className:"time".concat(Q(n,2)),id:t+"_tens"}),c.a.createElement("div",{className:"time".concat(Q(n,3)),id:t+"_ones"}))};!function(e){e.facesmile="facesmile",e.facepressed="facepressed",e.facewin="facewin",e.facedead="facedead",e.faceooh="faceooh"}(X||(X={}));var Z=function(e){var t=(16*e.width-90-26)/2;return{marginLeft:"".concat(t,"px"),marginRight:"".concat(t,"px"),marginTop:"3px",marginBottom:"3px"}},$=function(){var e=Object(u.c)(T),t=Object(u.c)(C),n=Object(u.b)();return c.a.createElement("div",{style:{backgroundImage:"none"}},c.a.createElement("div",{id:"smiley",className:t,style:Z(e),onMouseDown:function(){n(d(X.facepressed))},onMouseUp:function(){t===X.facepressed&&(n(Object(l.action)("SMILEY_CLICK")),n(d(X.facesmile)))},onMouseOut:function(){var e=[X.facewin,X.facedead,X.facesmile];Object(x.includes)(e,t)||n(d(X.facesmile))}}))},ee=function(){var e=Object(u.b)(),t=Object(u.c)(T),n=Object(u.c)(_),a=Object(u.c)(L),o=Object(u.c)(k),i=Object(r.useRef)(null);Object(r.useEffect)(function(){return o?i.current=setInterval(function(){e(Object(l.action)("CLOCK_TICK"))},1e3):i.current&&clearInterval(i.current),function(){i.current&&clearInterval(i.current)}},[o,e]);var f=Object(x.range)(t.width).map(function(e){return c.a.createElement("div",{key:e,className:"bordertb"})});return c.a.createElement("div",{className:"msw-header"},c.a.createElement("div",{className:"bordertl"}),f,c.a.createElement("div",{className:"bordertr"}),c.a.createElement("div",{className:"borderlrlong"}),c.a.createElement(V,{value:n,id:"mines"}),c.a.createElement($,null),c.a.createElement(V,{value:a,id:"seconds"}),c.a.createElement("div",{className:"borderlrlong"}),c.a.createElement("div",{className:"borderjointl"}),f,c.a.createElement("div",{className:"borderjointr"}))},te=function(e){return{width:20+16*e.width,height:30+16*e.height+32}},ne=function(){var e=Object(u.c)(T);return c.a.createElement("div",{id:"game",className:"msw",style:te(e)},c.a.createElement(ee,null),c.a.createElement(z,null))},ae=function(){var e=Object(u.b)();return c.a.createElement("div",{className:"APP z100",onMouseOver:function(t){return e(m({target:"APP"}))}},c.a.createElement(D,null),c.a.createElement(ne,null))},re=n(12),ce=n(15),oe=function(e,t){var n=e.board,a=e.mineField,r=I(e),c=n[t];if(!a||!G(c))return e;var o=a[t];if(B(o))return Object(b.a)(Object(b.a)({},e),{},{clockRunning:!1,gameEnded:!0,board:W(n,a,t),smileyButton:X.facedead});var i=A(n,a,t,r),u=function(e,t){for(var n=0;n<e.length;++n){var a=e[n],r=t[n];if(G(a)&&!B(r)||P(a)&&!B(r))return!1}return!0}(i,a),l=function(e,t){for(var n=Object(H.a)(e),a=0;a<e.length;++a){var r=e[a],c=t[a];K(r)||G(r)&&B(c)&&(n[a]=R.bombflagged)}return n}(i,a);return Object(b.a)(Object(b.a)({},e),{},{board:u?l:i,gameEnded:u,clockRunning:!u,smileyButton:u?X.facewin:X.facesmile})},ie=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g[2];return{difficulty:n,minesCounter:n.config.mines,timeCounter:0,smileyButton:X.facesmile,board:(e=n.config.width,t=n.config.height,Array(e*t).fill(R.blank)),mineField:void 0,mouseLeft:void 0,mouseMiddle:void 0,mouseRight:void 0,clockRunning:!1,gameStarted:!1,gameEnded:!1}},ue=Object(l.createReducer)(ie()).handleType("SET_DIFFICULTY",function(e,t){return ie(t.payload)}).handleType("SET_MINES_COUNTER",function(e,t){return Object(b.a)(Object(b.a)({},e),{},{minesCounter:t.payload})}).handleType("SET_TIME_COUNTER",function(e,t){return Object(b.a)(Object(b.a)({},e),{},{timeCounter:t.payload})}).handleType("SET_SMILEY_BUTTON",function(e,t){return Object(b.a)(Object(b.a)({},e),{},{smileyButton:t.payload})}).handleType("ON_MOUSE_DOWN",function(e,t){return e.gameEnded?e:t.payload.key===U.LEFT?Object(b.a)(Object(b.a)({},e),{},{mouseLeft:t.payload.target,smileyButton:X.faceooh}):t.payload.key===U.MIDDLE?Object(b.a)(Object(b.a)({},e),{},{mouseMiddle:t.payload.target,smileyButton:X.faceooh}):t.payload.key===U.RIGHT?Object(b.a)(Object(b.a)({},e),{},{mouseRight:t.payload.target}):e}).handleType("ON_MOUSE_UP",function(e,t){return e.gameEnded?e:t.payload.key===U.LEFT?Object(b.a)(Object(b.a)({},e),{},{mouseLeft:void 0,smileyButton:e.mouseRight?X.faceooh:X.facesmile}):t.payload.key===U.MIDDLE?Object(b.a)(Object(b.a)({},e),{},{mouseMiddle:void 0,smileyButton:e.mouseRight||e.mouseLeft?X.faceooh:X.facesmile}):t.payload.key===U.RIGHT?Object(b.a)(Object(b.a)({},e),{},{mouseRight:void 0,smileyButton:e.mouseLeft?X.faceooh:X.facesmile}):e}).handleType("ON_MOUSE_ENTER",function(e,t){return void 0!==e.mouseLeft&&void 0!==e.mouseRight?Object(b.a)(Object(b.a)({},e),{},{mouseLeft:t.payload.target,mouseRight:t.payload.target}):void 0!==e.mouseLeft?Object(b.a)(Object(b.a)({},e),{},{mouseLeft:t.payload.target}):void 0!==e.mouseMiddle?Object(b.a)(Object(b.a)({},e),{},{mouseMiddle:t.payload.target}):void 0!==e.mouseRight?Object(b.a)(Object(b.a)({},e),{},{mouseRight:t.payload.target}):e}).handleType("CELL_LEFT_CLICK",function(e,t){var n=e.gameEnded,a=e.gameStarted,r=e.board,c=T(e),o=c.width,i=c.height,u=c.mines;if(n)return e;var l=t.payload,f=l.x,d=l.y,m=j(f,d,o);if(!a){var s=F(o,i,f,d,u),v=A(r,s,m,o);return Object(b.a)(Object(b.a)({},e),{},{gameStarted:!0,mineField:s,clockRunning:!0,board:v})}return oe(e,m)}).handleType("CELL_RIGHT_CLICK",function(e,t){var n=e.board,a=e.minesCounter;if(e.gameEnded)return e;var r=T(e).width,c=t.payload,o=c.x,i=c.y,u=j(o,i,r),l=n[u];if(G(l)){var f=Object(H.a)(n);return f[u]=R.bombflagged,Object(b.a)(Object(b.a)({},e),{},{board:f,minesCounter:a-1})}if(P(l)){var d=Object(H.a)(n);return d[u]=R.blank,Object(b.a)(Object(b.a)({},e),{},{board:d,minesCounter:a+1})}return e}).handleType("CELL_BOTH_CLICK",function(e,t){var n=e.board,a=e.mineField;if(e.gameEnded)return e;var r=T(e).width,c=t.payload,o=c.x,i=c.y,u=j(o,i,r),l=n[u];if(!a)return e;if(K(l)){for(var f=Y(u,r,n.length),d=Object(b.a)({},e),m=0;m<f.length;++m){var s=f[m];d=oe(d,s)}return d}return e}).handleType("SMILEY_CLICK",function(e){return ie(e.difficulty)}).handleType("CLOCK_TICK",function(e){return Object(b.a)(Object(b.a)({},e),{},{timeCounter:e.timeCounter+1})}),le=Object(re.b)(ue,Object(re.a)(ce.a));n(31);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,{store:le},c.a.createElement("div",{className:"Screen"},c.a.createElement(ae,null)))),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.0988fde3.chunk.js.map