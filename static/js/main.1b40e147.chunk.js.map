{"version":3,"sources":["components/DifficultySelector.tsx","state/actions.ts","model/Game.ts","model/Coordinate.ts","state/selectors.ts","components/Solver.tsx","model/Cell.ts","model/Field.ts","model/Mouse.ts","model/Smiley.ts","components/Cell.tsx","components/Board.tsx","components/ThreeDigitCounter.tsx","components/SmileyButton.tsx","components/Header.tsx","components/Game.tsx","components/App.tsx","state/gameHelpers.ts","state/reducer.ts","state/store.ts","index.jsx"],"names":["changeTypes","setDifficulty","difficulty","action","setSmileyButton","value","onMouseEnter","event","onCellBothClick","x","y","setBotPlays","playsIncrement","DIFFICULTY_OPTIONS","label","config","mines","width","height","getCoordinatesFromKey","key","parts","split","parseInt","getIndexFromCoordinates","w","getDifficulty","state","getGameConfig","getWidth","getTimeCounter","timeCounter","getMinesCounter","minesCounter","getSmileyButton","smileyButton","getMouseLeftElement","mouseLeft","getMouseRightElement","mouseRight","isLeftDown","undefined","isRightDown","isClockRunning","clockRunning","getBotActive","botActive","getBotPlays","botPlays","Solver","useSelector","dispatch","useDispatch","react_default","a","createElement","type","checked","onChange","onClick","Cell","DificultySelector","_useState3","_useState","useState","Object","defineProperty","_useState2","slicedToArray","inputs","setInputs","selectedDifficulty","handleChange","HEIGHT","target","values","objectSpread2","WIDTH","MINES","className","map","option","classNames","DS_option_active","onSubmit","preventDefault","gameDifficulty","name","components_Solver","isBomb","f","initMineField","cnt","mineFieldSize","mineField","Array","minesArr","i","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","shuffleArray","m","neighbourMinesCount","getNeighbourIndexes","ni","reduce","acc","cur","concat","MouseKey","isBlank","cell","blank","isNumber","startsWith","isBombFlag","bombflagged","revealBoardOnDeath","oldBoard","deathIndex","newBoard","toConsumableArray","bombdeath","bombrevealed","bombmisflagged","size","neighbourIndexes","isFirstColumn","isLastColumn","isFirstRow","isLastRow","push","revealBoardOnClick","board","field","open1","open2","open3","open4","open5","open6","open7","open8","open0","filter","SmileyButton","getMouseKey","e","nativeEvent","button","LEFT","RIGHT","MIDDLE","CellComponent","_ref","cellStatus","getCellIndex","getCellStatus","leftPressed","isLeftPressed","rightDown","leftDown","neighbourPressed","mouseLeftElement","_getCoordinatesFromKe","_getCoordinatesFromKe2","X","Y","abs","isNeighbourPressed","pressed","onContextMenu","onMouseDown","stopPropagation","onMouseUp","mouseKey","onCellLeftClick","onCellRightClick","onMouseOver","Board","_useSelector","h","border","divs","components_Cell","line","range","getNthDigit","n","pow","ret","ThreeDigitCounter","id","style","backgroundImage","getStyles","margin","marginLeft","marginRight","marginTop","marginBottom","Smiley","smiley","facepressed","facesmile","onMouseOut","ignoreStates","facewin","facedead","includes","Header","intervalRef","useRef","useEffect","current","setInterval","clearInterval","components_ThreeDigitCounter","components_SmileyButton","calcStyle","Game","components_Header","components_Board","App","DifficultySelector","components_Game","handleLeftClickForIndex","index","gameEnded","win","isWin","winBoard","revealBoardOnWin","getInitialState","arguments","fill","mouseMiddle","gameStarted","botMoves","reducer","createReducer","handleType","payload","faceooh","_getGameConfig","_action$payload","newMineField","_action$payload2","_action$payload3","nextState","newBotMove","_action$payload4","confidence","botMove","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","es","store","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.1b40e147.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { DifficultyOption, DIFFICULTY_OPTIONS } from '../model/Game';\nimport { setDifficulty } from '../state/actions';\nimport { getDifficulty } from '../state/selectors';\nimport './DificultySelector.css';\nimport Solver from './Solver';\n\nconst CUSTOM = \"custom\"\n\nenum changeTypes {\n  HEIGHT,\n  WIDTH,\n  MINES\n}\n\nconst DificultySelector = () => {\n  const [inputs, setInputs] = useState({[\"height\"]: 10, [\"width\"]: 10, [\"mines\"]: 10});\n  const selectedDifficulty = useSelector(getDifficulty);\n  const dispatch = useDispatch();\n\n  const handleChange = (event: any, type: changeTypes) => {\n    if (type === changeTypes.HEIGHT) {\n      const height = event.target.value\n      setInputs(values => ({...values, [\"height\"]: height}))\n    } else if (type === changeTypes.WIDTH) {\n      const width = event.target.value\n      setInputs(values => ({...values, [\"width\"]: width}))\n    } else if (type === changeTypes.MINES) {\n      const mines = event.target.value\n      setInputs(values => ({...values, [\"mines\"]: mines}))\n    }\n  }\n  const handleSubmit = (event: any) => {\n    event.preventDefault()\n    const gameDifficulty: DifficultyOption = {\n      label: CUSTOM,\n      config: {\n        height: inputs.height,\n        width: inputs.width,\n        mines: inputs.mines\n      }\n    }\n    if (inputs.height >= 10 && inputs.width >= 10) dispatch(setDifficulty(gameDifficulty))\n  }\n\n  return (\n      <div>\n        <div className=\"DS_options\">\n        {DIFFICULTY_OPTIONS.map(option => (\n          <button\n            key={option.label}\n            className={classNames('DS_option', { DS_option_active: selectedDifficulty.label === option.label })}\n            onClick={() => {\n              dispatch(setDifficulty(option))\n            }}\n          >\n            {option.label}\n          </button>\n        ))}\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"submit\"\n            value=\"Custom\"\n            key={CUSTOM}\n            className={classNames('DS_option', { DS_option_active: selectedDifficulty.label === CUSTOM })}\n          />\n          <label>Height:\n            <input\n              type=\"number\"\n              name=\"height1\"\n              value={inputs.height}\n              onChange={(event) => handleChange(event, changeTypes.HEIGHT)}\n            />\n          </label>\n          <label>Width:\n            <input\n              type=\"number\"\n              name=\"width1\"\n              value={inputs.width}\n              onChange={(event) => handleChange(event, changeTypes.WIDTH)}\n            />\n          </label>\n          <label>Mines:\n            <input\n              type=\"number\"\n              name=\"mines\"\n              value={inputs.mines}\n              onChange={(event) => handleChange(event, changeTypes.MINES)}\n            />\n          </label>\n        </form>\n      </div>\n      <div className=\"Solver\">\n        <Solver />\n      </div>\n    </div>\n  );\n}\nexport default DificultySelector;\n","import { action } from \"typesafe-actions\";\nimport { DifficultyOption } from \"../model/Game\";\nimport { MouseClickEvent } from \"../model/Mouse\";\nimport { SmileyButton } from \"../model/Smiley\";\n\nexport const SET_DIFFICULTY = 'SET_DIFFICULTY';\nexport const setDifficulty = (difficulty: DifficultyOption) => action(SET_DIFFICULTY, difficulty);\nexport const SET_MINES_COUNTER = 'SET_MINES_COUNTER';\nexport const setMinesCounter = (value: number) => action(SET_MINES_COUNTER, value);\nexport const SET_TIME_COUNTER = 'SET_TIME_COUNTER';\nexport const setTimeCounter = (value: number) => action(SET_TIME_COUNTER, value);\nexport const SET_SMILEY_BUTTON = 'SET_SMILEY_BUTTON';\nexport const setSmileyButton = (value: SmileyButton) => action(SET_SMILEY_BUTTON, value);\n\n\nexport const ON_MOUSE_DOWN = 'ON_MOUSE_DOWN';\nexport const onMouseDown = (event: MouseClickEvent) => action(ON_MOUSE_DOWN, event);\nexport const ON_MOUSE_UP = 'ON_MOUSE_UP';\nexport const onMouseUp = (event: MouseClickEvent) => action(ON_MOUSE_UP, event);\nexport const ON_MOUSE_ENTER = 'ON_MOUSE_ENTER';\nexport const onMouseEnter = (event: MouseClickEvent) => action(ON_MOUSE_ENTER, event);\n\nexport const CLOCK_TICK = 'CLOCK_TICK';\nexport const clockTick = () => action(CLOCK_TICK);\n\nexport const CELL_LEFT_CLICK = 'CELL_LEFT_CLICK';\nexport const onCellLeftClick = (x: number, y: number) => action(CELL_LEFT_CLICK, { x, y });\nexport const CELL_RIGHT_CLICK = 'CELL_RIGHT_CLICK';\nexport const onCellRightClick = (x: number, y: number) => action(CELL_RIGHT_CLICK, { x, y });\nexport const CELL_BOTH_CLICK = 'CELL_BOTH_CLICK';\nexport const onCellBothClick = (x: number, y: number) => action(CELL_BOTH_CLICK, { x, y });\n\nexport const SMILEY_CLICK = 'SMILEY_CLICK';\nexport const onSmileyClick = () => action(SMILEY_CLICK);\n\nexport const SET_BOT_ACTIVE = 'SET_BOT_ACTIVE'\nexport const setBotActive = () => action(SET_BOT_ACTIVE)\nexport const SET_BOT_PLAYS = 'SET_BOT_PLAYS'\nexport const setBotPlays = (playsIncrement: number) => action(SET_BOT_PLAYS, playsIncrement)\nexport const SET_BOT_MOVES = 'SET_BOT_MOVES'\nexport const setBotMoves = (index: number, confidence: number) => action(SET_BOT_MOVES, { index, confidence })\n","export type GameConfig = {\n  width: number;\n  height: number;\n  mines: number;\n};\n\nexport type DifficultyOption = {\n  label: string,\n  config: GameConfig;\n};\n\nexport const DIFFICULTY_OPTIONS: DifficultyOption[] = [\n  {\n    label: 'easy',\n    config: {\n      mines: 10,\n      width: 9,\n      height: 9,\n    },\n  },\n  {\n    label: 'intermediate',\n    config: {\n      mines: 40,\n      width: 16,\n      height: 16,\n    },\n  },\n  {\n    label: 'expert',\n    config: {\n      mines: 99,\n      width: 30,\n      height: 16,\n    },\n  }\n];\n","export type Coordinate = {\n  x: number,\n  y: number,\n};\n\nexport const getCoordinatesFromKey = (key: string) => {\n  const parts = key.split('_');\n  return {\n    x: parseInt(parts[0], 10),\n    y: parseInt(parts[1], 10),\n  };\n}\n\nexport const getIndexFromCoordinates = (x: number, y: number, w: number) => y * w + x;\n","import { getCoordinatesFromKey } from \"../model/Coordinate\";\nimport { RootState } from \"./store\";\n\nexport const getDifficulty = (state: RootState) => state.difficulty;\nexport const getGameConfig = (state: RootState) => state.difficulty.config;\nexport const getWidth = (state: RootState) => getGameConfig(state).width;\n\nexport const getTimeCounter = (state: RootState) => state.timeCounter;\nexport const getMinesCounter = (state: RootState) => state.minesCounter;\nexport const getSmileyButton = (state: RootState) => state.smileyButton;\n\nconst getCellIndex = (x: number, y: number, w: number) => y * w + x;\nexport const getCellStatus = (x: number, y: number) =>\n  (state: RootState) => state.board[getCellIndex(x, y, getWidth(state))];\n\nconst getMouseLeftElement = (state: RootState) => state.mouseLeft;\nconst getMouseRightElement = (state: RootState) => state.mouseRight;\nexport const isLeftPressed = (key: string) => (state: RootState) => getMouseLeftElement(state) === key;\nexport const isRightPressed = (key: string) => (state: RootState) => getMouseRightElement(state) === key;\nexport const isLeftDown = (state: RootState) => getMouseLeftElement(state) !== undefined;\nexport const isRightDown = (state: RootState) => getMouseRightElement(state) !== undefined;\nexport const isNeighbourPressed = (key: string) => (state: RootState) => {\n  const mouseLeftElement = getMouseRightElement(state);\n  if (!mouseLeftElement) {\n    return false;\n  }\n  const { x, y } = getCoordinatesFromKey(key);\n  const { x: X, y: Y } = getCoordinatesFromKey(mouseLeftElement);\n  return Math.abs(x - X) <= 1 && Math.abs(y - Y) <= 1;\n};\n\nexport const isClockRunning = (state: RootState) => state.clockRunning;\n\nexport const getBotActive = (state: RootState) => state.botActive\nexport const getBotPlays = (state: RootState) => state.botPlays\nexport const getBotMoves = (state: RootState) => state.botMoves\n","import React from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setBotActive, setBotPlays } from \"../state/actions\";\nimport { getBotActive, getBotPlays } from \"../state/selectors\";\n\nconst RUN_BOT = \"Run bot?\"\n\nconst Solver = () => {\n    const botActive = useSelector(getBotActive)\n    const botPlays = useSelector(getBotPlays)\n    const dispatch = useDispatch()\n    const handleCheckboxChange = () => {\n        dispatch(setBotActive())\n    }\n    return (\n        <div>\n            <label>\n                <input\n                    type=\"checkbox\"\n                    checked={botActive}\n                    onChange={handleCheckboxChange}\n                />\n                {RUN_BOT}\n            </label>\n            <button \n                key=\"increase\"\n                onClick={() => {dispatch(setBotPlays(1))}}\n            >\n                Increase   \n            </button>\n            <button\n                key=\"decrease\"\n                onClick={() => {dispatch(setBotPlays(-1))}}\n            >\n                Decrease\n            </button>\n            <label>\n                Bot Plays: {botPlays}\n            </label>\n        </div>\n    )\n}\n\nexport default Solver\n","import { Field, isBomb, isNumber as isFieldNumber } from \"./Field\";\n\nexport enum Cell {\n  blank = 'blank',\n  pressed = 'pressed',\n  bombflagged = 'bombflagged',\n  bombrevealed = 'bombrevealed',\n  bombmisflagged = 'bombmisflagged',\n  bombdeath = 'bombdeath',\n  open0 = 'open0',\n  open1 = 'open1',\n  open2 = 'open2',\n  open3 = 'open3',\n  open4 = 'open4',\n  open5 = 'open5',\n  open6 = 'open6',\n  open7 = 'open7',\n  open8 = 'open8',\n};\n\nexport const isBlank = (cell: Cell): boolean => cell === Cell.blank;\nexport const isOpen = (cell: Cell): boolean => !isBlank(cell);\nexport const isNumber = (cell: Cell): boolean => cell.startsWith('open');\nexport const isBombFlag = (cell: Cell): boolean => cell === Cell.bombflagged;\n\nexport const initBoard = (w: number, h: number) => Array(w * h).fill(Cell.blank)\n\nexport const revealBoardOnDeath = (oldBoard: Cell[], mineField: Field[], deathIndex: number): Cell[] => {\n  const newBoard = [...oldBoard];\n  for (let i = 0; i < oldBoard.length; ++ i) {\n    const cell = oldBoard[i];\n    const f = mineField[i];\n    if (isNumber(cell)) {\n      continue;\n    }\n    if (isBlank(cell)) {\n      if (isBomb(f)) {\n        newBoard[i] = deathIndex === i ? Cell.bombdeath : Cell.bombrevealed;\n      }\n    }\n    if (isBombFlag(cell)) {\n      newBoard[i] = isBomb(f) ? Cell.bombflagged : Cell.bombmisflagged;\n    }\n  }\n  return newBoard;\n}\n\nexport const revealBoardOnWin = (oldBoard: Cell[], mineField: Field[]): Cell[] => {\n  const newBoard = [...oldBoard]\n  for (let i = 0; i < oldBoard.length; ++ i) {\n    const cell = oldBoard[i]\n    const f = mineField[i]\n    if (isNumber(cell)) {\n      continue\n    }\n    if (isBlank(cell)) {\n      if (isBomb(f)) {\n        newBoard[i] = Cell.bombflagged\n      }\n    }\n  }\n  return newBoard\n}\n\nexport const getNeighbourIndexes = (i: number, w: number, size: number): Array<number> => {\n  const neighbourIndexes = [];\n  const isFirstColumn = i % w === 0;\n  const isLastColumn = i % w === w - 1;\n  const isFirstRow = i < w;\n  const isLastRow = i + w >= size;\n  if (!isFirstColumn) neighbourIndexes.push(i - 1);\n  if (!isLastColumn) neighbourIndexes.push(i + 1);\n  if (!isFirstRow) {\n    neighbourIndexes.push(i - w);\n    if (!isFirstColumn) neighbourIndexes.push(i - w - 1);\n    if (!isLastColumn) neighbourIndexes.push(i - w + 1);\n  }\n  if (!isLastRow) {\n    neighbourIndexes.push(i + w);\n    if (!isFirstColumn) neighbourIndexes.push(i + w - 1);\n    if (!isLastColumn) neighbourIndexes.push(i + w + 1);\n  }\n  return neighbourIndexes;\n}\n\nexport const revealBoardOnClick = (board: Cell[], mineField: Field[], i: number, w: number) => {\n  let newBoard = [...board];\n  const field = mineField[i];\n  if (field === '1') { newBoard[i] = Cell.open1; return newBoard; }\n  if (field === '2') { newBoard[i] = Cell.open2; return newBoard; }\n  if (field === '3') { newBoard[i] = Cell.open3; return newBoard; }\n  if (field === '4') { newBoard[i] = Cell.open4; return newBoard; }\n  if (field === '5') { newBoard[i] = Cell.open5; return newBoard; }\n  if (field === '6') { newBoard[i] = Cell.open6; return newBoard; }\n  if (field === '7') { newBoard[i] = Cell.open7; return newBoard; }\n  if (field === '8') { newBoard[i] = Cell.open8; return newBoard; }\n  if (field === '0') {\n    newBoard[i] = Cell.open0;\n    const neighbourIndexes = getNeighbourIndexes(i, w, board.length)\n      .filter(ni => isBlank(board[ni]) && isFieldNumber(mineField[ni]));\n    for (let i = 0; i < neighbourIndexes.length; ++i) {\n      newBoard = revealBoardOnClick(newBoard, mineField, neighbourIndexes[i], w);\n    }\n  }\n  return newBoard;\n}\n\nexport const isWin = (board: Cell[], mineField: Field[]) => {\n  for (let i = 0; i < board.length; ++i) {\n    const cell = board[i];\n    const field = mineField[i];\n    if ((isBlank(cell) && !isBomb(field)) || (isBombFlag(cell) && !isBomb(field))) {\n      return false;\n    }\n  }\n  return true;\n};\n","import { getNeighbourIndexes } from \"./Cell\";\nimport { getIndexFromCoordinates } from \"./Coordinate\";\n\nexport type Field = 'X' | 'x' | '0' | '1'  | '2'  | '3'  | '4'  | '5'  | '6'  | '7'  | '8';\n\nexport const isNumber = (f: Field) => f !== 'x' && f !== 'X';\nexport const isBomb = (f: Field) => f === 'x';\n\n\nconst shuffleArray = (array : Field[]) => {\n  var currentIndex = array.length, temporaryValue, randomIndex ;\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n  return array;\n};\n\nexport const initMineField = (width: number, height: number, x: number, y: number, cnt: number) => {\n  const mineFieldSize = width * height;\n  let mineField = Array(mineFieldSize);\n\n  mineField[getIndexFromCoordinates(x, y, width)] = 'X';\n  var minesArr = new Array(mineFieldSize - 1);\n  for (let i = 0; i < cnt; i++){\n    minesArr[i] = 'x';\n  }\n  minesArr = shuffleArray(minesArr);\n\n  for (let i = 0, m = 0; i < mineFieldSize; i++) {\n    if (mineField[i] !== 'X') {\n      mineField[i] = minesArr[m++];\n    }\n  }\n\n  for (let i = 0; i < mineFieldSize; ++i) {\n    if (mineField[i] !== 'x') {\n      const neighbourIndexes = getNeighbourIndexes(i, width, mineFieldSize);\n      const neighbourMines = neighbourIndexes.map(ni => mineField[ni] === 'x' ? 1 : 0);\n      const neighbourMinesCount = neighbourMines.reduce((acc: number, cur) => (acc + cur), 0);\n      mineField[i] = `${neighbourMinesCount}`;\n    }\n  }\n\n  return mineField;\n};\n","export enum MouseKey {\n  LEFT,\n  RIGHT,\n  MIDDLE,\n}\n\nexport interface MouseClickEvent {\n  key?: MouseKey;\n  target: string,\n}\n\nexport const getMouseKey = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n  if (e.nativeEvent.button === 0) {\n    return MouseKey.LEFT;\n  }\n  if (e.nativeEvent.button === 2) {\n    return MouseKey.RIGHT;\n  }\n  return MouseKey.MIDDLE\n};","export enum SmileyButton {\n  facesmile = 'facesmile',\n  facepressed = 'facepressed',\n  facewin = 'facewin',\n  facedead = 'facedead',\n  faceooh = 'faceooh',\n};","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Cell } from '../model/Cell';\nimport { getMouseKey, MouseKey } from '../model/Mouse';\nimport { onCellBothClick, onCellLeftClick, onCellRightClick, onMouseDown, onMouseEnter, onMouseUp } from '../state/actions';\nimport { getCellStatus, isLeftDown, isLeftPressed, isNeighbourPressed, isRightDown } from '../state/selectors';\n\ninterface props {\n  x: number;\n  y: number;\n}\n\nconst CellComponent = ({ x, y } : props) => {\n  const key = `${x}_${y}`;\n  const dispatch = useDispatch();\n  let cellStatus = useSelector(getCellStatus(x, y));\n  const leftPressed = useSelector(isLeftPressed(key));\n  const rightDown = useSelector(isRightDown);\n  const leftDown = useSelector(isLeftDown);\n  const neighbourPressed = useSelector(isNeighbourPressed(key))\n  if (cellStatus === Cell.blank) {\n    if (leftPressed || (leftDown && rightDown && neighbourPressed)) {\n      cellStatus = Cell.pressed;\n    }\n  }\n  return (\n    <div\n      key={key}\n      className={`square ${cellStatus}`}\n      onContextMenu={e => {e.preventDefault();}}\n      onMouseDown={(e) => {\n        dispatch(onMouseDown({ key: getMouseKey(e), target: key }));\n        e.stopPropagation();\n      }}\n      onMouseUp={(e) => {\n        const mouseKey = getMouseKey(e);\n        dispatch(onMouseUp({ key: mouseKey, target: key }));\n        if (mouseKey === MouseKey.LEFT) {\n          if (rightDown) {\n            dispatch(onCellBothClick(x, y))\n          } else {\n            dispatch(onCellLeftClick(x, y));\n          }\n        } else if (mouseKey === MouseKey.RIGHT) {\n          if (leftDown) {\n            dispatch(onCellBothClick(x, y))\n          } else {\n            dispatch(onCellRightClick(x, y));\n          }\n        }\n        e.stopPropagation();\n      } }\n      onMouseOver={(e) => {\n        dispatch(onMouseEnter({ target: key }));\n        e.stopPropagation();\n      }}\n    />\n  ); \n}\nexport default CellComponent;\n","import { range } from 'lodash';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getGameConfig } from '../state/selectors';\nimport Cell from './Cell';\n\nconst Board = () => {\n  const { height: h, width: w } = useSelector(getGameConfig);\n  const border =  (key: string) => (<div key={key} className=\"borderlr\" />);\n  var divs = [];\n  for (var y = 0; y < h; ++y) {\n    divs.push(border(`${y}-l`));\n    for (var x = 0; x < w; ++x){\n      divs.push(\n        <Cell\n          key={`${y}-${x}`}\n          x={x}\n          y={y}\n        />\n      );\n    }\n    divs.push(border(`${y}-r`));\n  }\n  const line = range(w).map(i => <div key={i} className=\"bordertb\" />);\n  return (\n    <div className=\"minesweeper-board\" >\n      {divs}\n      <div className=\"borderbl\" />{line}<div className=\"borderbr\" />\t\n    </div>\n  );\n}\n\nexport default Board;\n","import React from 'react';\n\ninterface props {\n\tid: string;\n\tvalue: number,\n};\n\nconst getNthDigit = (value: number, n: number) => {\n  if (n === 1 && value < 0){\n    return \"-\";\n  }\n  var pow = Math.pow(10, 3 - n);\n  var ret = Math.floor((Math.abs(value) / pow) % 10);\n  return Math.abs(ret);\n}\n\nconst ThreeDigitCounter = ({ id, value } : props) => (\n\t<div style={{'backgroundImage':'none'}}>\n\t\t<div className={`time${getNthDigit(value, 1)}`} id={id+\"_hundreds\"} />\n\t\t<div className={`time${getNthDigit(value, 2)}`} id={id+\"_tens\"} />\n\t\t<div className={`time${getNthDigit(value, 3)}`} id={id+\"_ones\"} />\n\t</div>\n);\n\nexport default ThreeDigitCounter;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getGameConfig, getSmileyButton } from '../state/selectors';\nimport { onSmileyClick, setSmileyButton } from '../state/actions';\nimport { includes } from 'lodash';\nimport { GameConfig } from '../model/Game';\nimport { SmileyButton } from '../model/Smiley';\n\nconst getStyles = (config: GameConfig) => {\n  const w = config.width;\n  const margin = (w * 16 - 90 - 26) / 2;\n  return {\n    \"marginLeft\": `${margin}px`,\n    \"marginRight\": `${margin}px`,\n    \"marginTop\": \"3px\",\n    \"marginBottom\": \"3px\"\n  };\n}\n\nconst Smiley = () => {\n  const config = useSelector(getGameConfig);\n  const smiley = useSelector(getSmileyButton);\n  const dispatch = useDispatch();\n  return (\n    <div style={{'backgroundImage':'none'}}>\n      <div id=\"smiley\"\n        className={smiley} style={getStyles(config)}\n        onMouseDown={() => {\n          dispatch(setSmileyButton(SmileyButton.facepressed));\n        }}\n        onMouseUp={() => {\n          if (smiley === SmileyButton.facepressed){\n            dispatch(onSmileyClick());\n            dispatch(setSmileyButton(SmileyButton.facesmile));\n          }\n        }}\n        onMouseOut={() => {\n          const ignoreStates = [SmileyButton.facewin, SmileyButton.facedead, SmileyButton.facesmile];\n          if (!includes(ignoreStates, smiley)) {\n            dispatch(setSmileyButton(SmileyButton.facesmile));\n          }\n        }}\n      />\n    </div>\n  );\n}\nexport default Smiley;\n","import React, { useEffect, useRef } from 'react';\nimport { range } from 'lodash';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getGameConfig, getMinesCounter, getTimeCounter, isClockRunning } from '../state/selectors';\nimport ThreeDigitCounter from './ThreeDigitCounter';\nimport SmileyButton from './SmileyButton';\nimport { clockTick } from '../state/actions';\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const config = useSelector(getGameConfig);\n  const minesCounter = useSelector(getMinesCounter);\n  const timeCounter = useSelector(getTimeCounter);\n  const clockRunning = useSelector(isClockRunning);\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n  useEffect(() => {\n    if (clockRunning) {\n      intervalRef.current = setInterval(() => { dispatch(clockTick()); }, 1000);\n    } else  if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    }\n  }, [clockRunning, dispatch])\n  const line = range(config.width).map(key => <div key={key} className=\"bordertb\" />);\n  return (\n    <div className=\"msw-header\">\n      <div className=\"bordertl\" />{line}<div className=\"bordertr\" />\n      <div className=\"borderlrlong\"/>\n      <ThreeDigitCounter value={minesCounter} id=\"mines\" />\n      <SmileyButton />\n      <ThreeDigitCounter value={timeCounter} id=\"seconds\"/>\n      <div className=\"borderlrlong\"/>\n      <div className=\"borderjointl\" />{line}<div className=\"borderjointr\" />\n    </div>\n  );\n}\nexport default Header;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { GameConfig } from '../model/Game';\nimport { getGameConfig } from '../state/selectors';\nimport Board from './Board';\nimport Header from './Header';\n\nconst BORDER_WIDTH = 10;\nconst BORDER_HEIGHT = 10;\nconst FIELD_WIDTH = 16;\nconst FIELD_HEIGHT = 16;\nconst HEADER_HEIGHT = 32;\n\nconst calcStyle = (config: GameConfig) => {\n  const widthFieldsNum = config.width;\n  const heightFieldsNum = config.height;\n  const width = 2 * BORDER_WIDTH + widthFieldsNum * FIELD_WIDTH;\n  const height = 3 * BORDER_HEIGHT + FIELD_HEIGHT * heightFieldsNum + HEADER_HEIGHT;\n  return { width, height };\n}\n\nconst Game = () => {\n  const config = useSelector(getGameConfig);\n  return (\n    <div id=\"game\" className=\"msw\" style={calcStyle(config)}>\n      <Header />\n      <Board />\t\t\t\t\t\t\n    </div>\n  );\n}\nexport default Game;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { onMouseEnter } from '../state/actions';\nimport DificultySelector from './DifficultySelector';\nimport Game from './Game';\n\nconst App = () => {\n  const dispatch = useDispatch();\n  return (\n    <div\n      className=\"APP z100\"\n      onMouseOver={(e) => dispatch(onMouseEnter({ target: 'APP' }))}\n    >\n      <DificultySelector />\n      <Game />\n    </div>\n  );\n}\nexport default App;\n","import { PayloadAction } from \"typesafe-actions\";\nimport { Cell, getNeighbourIndexes, isBlank, isBombFlag, isNumber, isWin, revealBoardOnClick, revealBoardOnDeath, revealBoardOnWin } from \"../model/Cell\";\nimport { Coordinate, getIndexFromCoordinates } from \"../model/Coordinate\";\nimport { initMineField, isBomb } from \"../model/Field\";\nimport { SmileyButton } from \"../model/Smiley\";\nimport { getGameConfig, getWidth } from \"./selectors\";\nimport { RootState } from \"./store\";\n\nconst handleLeftClickForIndex = (state: RootState, index: number) => {\n  const { board, mineField } = state;\n  const w = getWidth(state);\n  const cell = board[index];\n  if (!mineField || !isBlank(cell)) {\n    return state;\n  }\n  const field = mineField[index];\n  if (isBomb(field)) {\n    return ({\n      ...state,\n      clockRunning: false,\n      gameEnded: true,\n      board: revealBoardOnDeath(board, mineField, index),\n      smileyButton: SmileyButton.facedead,\n    });\n  }\n  const newBoard = revealBoardOnClick(board, mineField, index, w);\n  const win = isWin(newBoard, mineField);\n  const winBoard = revealBoardOnWin(newBoard, mineField)\n  return ({\n    ...state,\n    board: win ? winBoard : newBoard,\n    gameEnded: win,\n    clockRunning: !win,\n    smileyButton: win ? SmileyButton.facewin : SmileyButton.facesmile,\n  });\n}\n\nexport const handleLeftClick = (state: RootState, action: PayloadAction<string, Coordinate>) => {\n  const { gameEnded, gameStarted, board } = state;\n  const {\n    width: w,\n    height: h,\n    mines,\n  } = getGameConfig(state);\n  if (gameEnded) {\n    return state;\n  }\n  const { x, y } = action.payload;\n  const index = getIndexFromCoordinates(x, y, w);\n  if (!gameStarted) {\n    const newMineField = initMineField(w, h, x, y, mines);\n    const newBoard = revealBoardOnClick(board, newMineField, index, w);\n    return ({\n      ...state,\n      gameStarted: true,\n      mineField: newMineField,\n      clockRunning: true,\n      board: newBoard,\n    })\n  }\n  return handleLeftClickForIndex(state, index);\n};\n\nexport const handleRightClick = (state: RootState, action: PayloadAction<string, Coordinate>) => {\n  const { board, minesCounter, gameEnded } = state;\n  if (gameEnded) {\n    return state;\n  }\n  const {\n    width: w,\n   } = getGameConfig(state);\n  const { x, y } = action.payload;\n  const index = getIndexFromCoordinates(x, y, w);\n  const cell = board[index];\n  if (isBlank(cell)) {\n    const newBoard = [...board];\n    newBoard[index] = Cell.bombflagged;\n    return ({\n      ...state,\n      board: newBoard,\n      minesCounter: minesCounter - 1,\n    });\n  }\n  if (isBombFlag(cell)) {\n    const newBoard = [...board];\n    newBoard[index] = Cell.blank;\n    return ({\n      ...state,\n      board: newBoard,\n      minesCounter: minesCounter + 1,\n    });\n  }\n  return state;\n};\n\nexport const handleBothClick = (state: RootState, action: PayloadAction<string, Coordinate>) => {\n  const { board, mineField, gameEnded } = state;\n  if (gameEnded) {\n    return state;\n  }\n  const {\n    width: w,\n   } = getGameConfig(state);\n  const { x, y } = action.payload;\n  const index = getIndexFromCoordinates(x, y, w);\n  const cell = board[index];\n  if (!mineField) {\n    return state;\n  }\n  if (isNumber(cell)) {\n    const neighbourIndexes = getNeighbourIndexes(index, w, board.length);\n    let nextState = {...state};\n    for (let i = 0; i < neighbourIndexes.length; ++i) {\n      const ni = neighbourIndexes[i];\n      nextState = handleLeftClickForIndex(nextState, ni);\n    }\n    return nextState;\n  }\n  return state;\n};\n\ntype botMovesType = {\n  index: number,\n  confidence: number\n}\nexport const updateMoves = (state: RootState, action: PayloadAction<string, botMovesType>) => {\n  let newBotMove = state.botMoves\n  const { index, confidence } = action.payload\n  newBotMove[index] = confidence\n  return ({\n    ...state,\n    botMove: newBotMove\n  })\n}\n","import { createReducer, PayloadAction } from 'typesafe-actions';\nimport { initBoard } from '../model/Cell';\nimport { DifficultyOption, DIFFICULTY_OPTIONS } from '../model/Game';\nimport { MouseKey, MouseClickEvent } from '../model/Mouse';\nimport { SmileyButton } from '../model/Smiley';\nimport {\n  SET_DIFFICULTY,\n  SET_MINES_COUNTER,\n  SET_TIME_COUNTER,\n  SET_SMILEY_BUTTON,\n  ON_MOUSE_DOWN,\n  ON_MOUSE_UP,\n  ON_MOUSE_ENTER,\n  CLOCK_TICK,\n  CELL_LEFT_CLICK,\n  CELL_RIGHT_CLICK,\n  SMILEY_CLICK,\n  CELL_BOTH_CLICK,\n  SET_BOT_ACTIVE,\n  SET_BOT_PLAYS,\n  SET_BOT_MOVES,\n} from './actions';\nimport { handleBothClick, handleLeftClick, handleRightClick, updateMoves } from './gameHelpers';\nimport { RootState } from './store';\n\nconst getInitialState = (difficulty = DIFFICULTY_OPTIONS[2]) => ({\n  difficulty,\n  minesCounter: difficulty.config.mines,\n  timeCounter: 0,\n  smileyButton: SmileyButton.facesmile,\n  board: initBoard(difficulty.config.width, difficulty.config.height),\n  mineField: undefined,\n  mouseLeft: undefined,\n  mouseMiddle: undefined,\n  mouseRight: undefined,\n  clockRunning: false,\n  gameStarted: false,\n  gameEnded: false,\n  botActive: false,\n  botPlays: 0,\n  botMoves: {}\n});\n\nconst reducer = createReducer<RootState>(getInitialState())\n  .handleType(SET_DIFFICULTY, (state: RootState, action: PayloadAction<string, DifficultyOption>) => (\n    getInitialState(action.payload)\n  ))\n  .handleType(SET_MINES_COUNTER, (state: RootState, action: PayloadAction<string, number>) => ({\n    ...state,\n    minesCounter: action.payload, \n  }))\n  .handleType(SET_TIME_COUNTER, (state: RootState, action: PayloadAction<string, number>) => ({\n    ...state,\n    timeCounter: action.payload, \n  }))\n  .handleType(SET_SMILEY_BUTTON, (state: RootState, action: PayloadAction<string, SmileyButton>) => ({\n    ...state,\n    smileyButton: action.payload, \n  }))\n  .handleType(ON_MOUSE_DOWN, (state: RootState, action: PayloadAction<string, MouseClickEvent>) => {\n    if (state.gameEnded) return state;\n    if (action.payload.key === MouseKey.LEFT) {\n      return ({\n        ...state,\n        mouseLeft: action.payload.target,\n        smileyButton: SmileyButton.faceooh,\n      });\n    }\n    if (action.payload.key === MouseKey.MIDDLE) {\n      return ({\n        ...state,\n        mouseMiddle: action.payload.target,\n        smileyButton: SmileyButton.faceooh,\n      });\n    }\n    if (action.payload.key === MouseKey.RIGHT) {\n      return ({\n        ...state,\n        mouseRight: action.payload.target,\n      });\n    }\n    return state;\n  })\n  .handleType(ON_MOUSE_UP, (state: RootState, action: PayloadAction<string, MouseClickEvent>) => {\n    if (state.gameEnded) return state;\n    if (action.payload.key === MouseKey.LEFT) {\n      return ({\n        ...state,\n        mouseLeft: undefined,\n        smileyButton: state.mouseRight ? SmileyButton.faceooh : SmileyButton.facesmile,\n      });\n    }\n    if (action.payload.key === MouseKey.MIDDLE) {\n      return ({\n        ...state,\n        mouseMiddle: undefined,\n        smileyButton: (state.mouseRight || state.mouseLeft) ? SmileyButton.faceooh : SmileyButton.facesmile,\n      });\n    }\n    if (action.payload.key === MouseKey.RIGHT) {\n      return ({\n        ...state,\n        mouseRight: undefined,\n        smileyButton: state.mouseLeft ? SmileyButton.faceooh : SmileyButton.facesmile,\n      });\n    }\n    return state;\n  })\n  .handleType(ON_MOUSE_ENTER, (state: RootState, action: PayloadAction<string, MouseClickEvent>) => {\n    if (state.mouseLeft !== undefined && state.mouseRight !== undefined) {\n      return ({\n        ...state,\n        mouseLeft: action.payload.target,\n        mouseRight: action.payload.target,\n      });\n    }\n    if (state.mouseLeft !== undefined) {\n      return ({\n        ...state,\n        mouseLeft: action.payload.target,\n      });\n    }\n    if (state.mouseMiddle !== undefined) {\n      return ({\n        ...state,\n        mouseMiddle: action.payload.target,\n      });\n    }\n    if (state.mouseRight !== undefined) {\n      return ({\n        ...state,\n        mouseRight: action.payload.target,\n      });\n    }\n    return state;\n  })\n  .handleType(CELL_LEFT_CLICK, handleLeftClick)\n  .handleType(CELL_RIGHT_CLICK, handleRightClick)\n  .handleType(CELL_BOTH_CLICK, handleBothClick)\n  .handleType(SMILEY_CLICK, (state: RootState) => (\n    getInitialState(state.difficulty)\n  ))\n  .handleType(CLOCK_TICK, (state: RootState) => ({\n    ...state,\n    timeCounter: state.timeCounter + 1,\n  }))\n  .handleType(SET_BOT_ACTIVE, (state: RootState) => ({\n    ...state,\n    botActive: !state.botActive,\n    botPlays: 0\n  }))\n  .handleType(SET_BOT_PLAYS, (state: RootState, action: PayloadAction<string, number>) => ({\n    ...state,\n    botPlays: (state.botPlays + action.payload >= 0) ? state.botPlays + action.payload : 0\n  }))\n  .handleType(SET_BOT_MOVES, updateMoves)\n\n  \nexport default reducer;","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { Cell } from '../model/Cell';\nimport { Field } from '../model/Field';\nimport { DifficultyOption } from '../model/Game';\nimport { SmileyButton } from '../model/Smiley';\nimport reducer from './reducer';\n\n\nexport type RootState = {\n  difficulty: DifficultyOption,\n  minesCounter: number,\n  timeCounter: number,\n  smileyButton: SmileyButton,\n  board: Cell[],\n  mineField: Field[] | undefined,\n  mouseLeft: string | undefined,\n  mouseMiddle: string | undefined,\n  mouseRight: string | undefined,\n  clockRunning: boolean,\n  gameStarted: boolean,\n  gameEnded: boolean,\n  botActive: boolean,\n  botPlays: number,\n  botMoves: {[key: number]: number} // key is index\n};\n\nexport default createStore(reducer, applyMiddleware(thunk));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './state/store';\nimport './css/minesweeper.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <div className=\"Screen\">\n        <App />\n      </div>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}