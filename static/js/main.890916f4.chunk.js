(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(32)},28:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(8),i=n.n(o),u=n(2),l=n(3),b=function(e){return Object(l.action)("SET_DIFFICULTY",e)},f=function(e){return Object(l.action)("SET_SMILEY_BUTTON",e)},d=function(e){return Object(l.action)("ON_MOUSE_ENTER",e)},m=function(e,t){return Object(l.action)("CELL_BOTH_CLICK",{x:e,y:t})},s=function(e){return Object(l.action)("SET_BOT_PLAYS",e)},v=n(1),O=n(4),p=n(16),h=n(11),E=n.n(h),g=[{label:"easy",config:{mines:10,width:9,height:9}},{label:"intermediate",config:{mines:40,width:16,height:16}},{label:"expert",config:{mines:99,width:30,height:16}}],j=function(e){var t=e.split("_");return{x:parseInt(t[0],10),y:parseInt(t[1],10)}},y=function(e,t,n){return t*n+e},T=function(e){return e.difficulty},_=function(e){return e.difficulty.config},I=function(e){return _(e).width},C=function(e){return e.timeCounter},L=function(e){return e.minesCounter},M=function(e){return e.smileyButton},N=function(e){return e.mouseLeft},S=function(e){return e.mouseRight},k=function(e){return void 0!==N(e)},w=function(e){return void 0!==S(e)},R=function(e){return e.clockRunning},D=function(e){return e.botActive},x=function(e){return e.botPlays},H=(n(28),function(){var e=Object(u.c)(D),t=Object(u.c)(x),n=Object(u.c)(T),a=Object(u.b)();return c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",checked:e,onChange:function(){a(Object(l.action)("SET_BOT_ACTIVE"))}}),"Run bot?"),c.a.createElement("button",{key:"increase",onClick:function(){a(s(1))}},"Increase"),c.a.createElement("button",{key:"decrease",onClick:function(){a(s(-1))}},"Decrease"),c.a.createElement("button",{key:"max_plays",onClick:function(){var e=n.config,t=e.height,r=e.width,c=e.mines;a(s(t*r-c))}},"Max Plays"),c.a.createElement("label",null,"Bot Plays: ",t))});!function(e){e[e.HEIGHT=0]="HEIGHT",e[e.WIDTH=1]="WIDTH",e[e.MINES=2]="MINES"}(a||(a={}));var B,P=function(){var e,t=Object(r.useState)((e={},Object(O.a)(e,"height",10),Object(O.a)(e,"width",10),Object(O.a)(e,"mines",10),e)),n=Object(p.a)(t,2),o=n[0],i=n[1],l=Object(u.c)(T),f=Object(u.b)(),d=function(e,t){if(t===a.HEIGHT){var n=e.target.value;i(function(e){return Object(v.a)(Object(v.a)({},e),{},Object(O.a)({},"height",n))})}else if(t===a.WIDTH){var r=e.target.value;i(function(e){return Object(v.a)(Object(v.a)({},e),{},Object(O.a)({},"width",r))})}else if(t===a.MINES){var c=e.target.value;i(function(e){return Object(v.a)(Object(v.a)({},e),{},Object(O.a)({},"mines",c))})}};return c.a.createElement("div",null,c.a.createElement("div",{className:"DS_options"},g.map(function(e){return c.a.createElement("button",{key:e.label,className:E()("DS_option",{DS_option_active:l.label===e.label}),onClick:function(){f(b(e))}},e.label)}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={label:"custom",config:{height:o.height,width:o.width,mines:o.mines}};o.height>=10&&o.width>=10&&f(b(t))}},c.a.createElement("input",{type:"submit",value:"Custom",key:"custom",className:E()("DS_option",{DS_option_active:"custom"===l.label})}),c.a.createElement("label",null,"Height:",c.a.createElement("input",{type:"number",name:"height1",value:o.height,onChange:function(e){return d(e,a.HEIGHT)}})),c.a.createElement("label",null,"Width:",c.a.createElement("input",{type:"number",name:"width1",value:o.width,onChange:function(e){return d(e,a.WIDTH)}})),c.a.createElement("label",null,"Mines:",c.a.createElement("input",{type:"number",name:"mines",value:o.mines,onChange:function(e){return d(e,a.MINES)}})))),c.a.createElement("div",{className:"Solver"},c.a.createElement(H,null)))},F=n(6),U=n(5),A=function(e){return"x"===e},G=function(e,t,n,a,r){var c=e*t,o=Array(c);o[y(n,a,e)]="X";for(var i=new Array(c-1),u=0;u<r;u++)i[u]="x";i=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}(i);for(var l=0,b=0;l<c;l++)"X"!==o[l]&&(o[l]=i[b++]);for(var f=0;f<c;++f)if("x"!==o[f]){var d=J(f,e,c).map(function(e){return"x"===o[e]?1:0}).reduce(function(e,t){return e+t},0);o[f]="".concat(d)}return o};!function(e){e.blank="blank",e.pressed="pressed",e.bombflagged="bombflagged",e.bombrevealed="bombrevealed",e.bombmisflagged="bombmisflagged",e.bombdeath="bombdeath",e.open0="open0",e.open1="open1",e.open2="open2",e.open3="open3",e.open4="open4",e.open5="open5",e.open6="open6",e.open7="open7",e.open8="open8"}(B||(B={}));var K,W=function(e){return e===B.blank},Y=function(e){return e.startsWith("open")},V=function(e){return e===B.bombflagged},X=function(e,t,n){for(var a=Object(U.a)(e),r=0;r<e.length;++r){var c=e[r],o=t[r];Y(c)||(W(c)&&A(o)&&(a[r]=n===r?B.bombdeath:B.bombrevealed),V(c)&&(a[r]=A(o)?B.bombflagged:B.bombmisflagged))}return a},J=function(e,t,n){var a=[],r=e%t===0,c=e%t===t-1,o=e<t,i=e+t>=n;return r||a.push(e-1),c||a.push(e+1),o||(a.push(e-t),r||a.push(e-t-1),c||a.push(e-t+1)),i||(a.push(e+t),r||a.push(e+t-1),c||a.push(e+t+1)),a},q=function e(t,n,a,r){var c=Object(U.a)(t),o=n[a];if("1"===o)return c[a]=B.open1,c;if("2"===o)return c[a]=B.open2,c;if("3"===o)return c[a]=B.open3,c;if("4"===o)return c[a]=B.open4,c;if("5"===o)return c[a]=B.open5,c;if("6"===o)return c[a]=B.open6,c;if("7"===o)return c[a]=B.open7,c;if("8"===o)return c[a]=B.open8,c;if("0"===o){c[a]=B.open0;for(var i=J(a,r,t.length).filter(function(e){return W(t[e])&&("x"!==(a=n[e])&&"X"!==a);var a}),u=0;u<i.length;++u)c=e(c,n,i[u],r)}return c};!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.MIDDLE=2]="MIDDLE"}(K||(K={}));var z,Q=function(e){return 0===e.nativeEvent.button?K.LEFT:2===e.nativeEvent.button?K.RIGHT:K.MIDDLE},Z=function(e){var t=e.x,n=e.y,a="".concat(t,"_").concat(n),r=Object(u.b)(),o=Object(u.c)(function(e,t){return function(n){return n.board[function(e,t,n){return t*n+e}(e,t,I(n))]}}(t,n)),i=Object(u.c)(function(e){return function(t){return N(t)===e}}(a)),b=Object(u.c)(w),f=Object(u.c)(k),s=Object(u.c)(function(e){return function(t){var n=S(t);if(!n)return!1;var a=j(e),r=a.x,c=a.y,o=j(n),i=o.x,u=o.y;return Math.abs(r-i)<=1&&Math.abs(c-u)<=1}}(a));return o===B.blank&&(i||f&&b&&s)&&(o=B.pressed),c.a.createElement("div",{key:a,className:"square ".concat(o),onContextMenu:function(e){e.preventDefault()},onMouseDown:function(e){var t;r((t={key:Q(e),target:a},Object(l.action)("ON_MOUSE_DOWN",t))),e.stopPropagation()},onMouseUp:function(e){var c,o=Q(e);r((c={key:o,target:a},Object(l.action)("ON_MOUSE_UP",c))),o===K.LEFT?r(b?m(t,n):function(e,t){return Object(l.action)("CELL_LEFT_CLICK",{x:e,y:t})}(t,n)):o===K.RIGHT&&r(f?m(t,n):function(e,t){return Object(l.action)("CELL_RIGHT_CLICK",{x:e,y:t})}(t,n)),e.stopPropagation()},onMouseOver:function(e){r(d({target:a})),e.stopPropagation()}})},$=function(){for(var e=Object(u.c)(_),t=e.height,n=e.width,a=function(e){return c.a.createElement("div",{key:e,className:"borderlr"})},r=[],o=0;o<t;++o){r.push(a("".concat(o,"-l")));for(var i=0;i<n;++i)r.push(c.a.createElement(Z,{key:"".concat(o,"-").concat(i),x:i,y:o}));r.push(a("".concat(o,"-r")))}var l=Object(F.range)(n).map(function(e){return c.a.createElement("div",{key:e,className:"bordertb"})});return c.a.createElement("div",{className:"minesweeper-board"},r,c.a.createElement("div",{className:"borderbl"}),l,c.a.createElement("div",{className:"borderbr"}))},ee=function(e,t){if(1===t&&e<0)return"-";var n=Math.pow(10,3-t),a=Math.floor(Math.abs(e)/n%10);return Math.abs(a)},te=function(e){var t=e.id,n=e.value;return c.a.createElement("div",{style:{backgroundImage:"none"}},c.a.createElement("div",{className:"time".concat(ee(n,1)),id:t+"_hundreds"}),c.a.createElement("div",{className:"time".concat(ee(n,2)),id:t+"_tens"}),c.a.createElement("div",{className:"time".concat(ee(n,3)),id:t+"_ones"}))};!function(e){e.facesmile="facesmile",e.facepressed="facepressed",e.facewin="facewin",e.facedead="facedead",e.faceooh="faceooh"}(z||(z={}));var ne=function(e){var t=(16*e.width-90-26)/2;return{marginLeft:"".concat(t,"px"),marginRight:"".concat(t,"px"),marginTop:"3px",marginBottom:"3px"}},ae=function(){var e=Object(u.c)(_),t=Object(u.c)(M),n=Object(u.b)();return c.a.createElement("div",{style:{backgroundImage:"none"}},c.a.createElement("div",{id:"smiley",className:t,style:ne(e),onMouseDown:function(){n(f(z.facepressed))},onMouseUp:function(){t===z.facepressed&&(n(Object(l.action)("SMILEY_CLICK")),n(f(z.facesmile)))},onMouseOut:function(){var e=[z.facewin,z.facedead,z.facesmile];Object(F.includes)(e,t)||n(f(z.facesmile))}}))},re=function(){var e=Object(u.b)(),t=Object(u.c)(_),n=Object(u.c)(L),a=Object(u.c)(C),o=Object(u.c)(R),i=Object(r.useRef)(null);Object(r.useEffect)(function(){return o?i.current=setInterval(function(){e(Object(l.action)("CLOCK_TICK"))},1e3):i.current&&clearInterval(i.current),function(){i.current&&clearInterval(i.current)}},[o,e]);var b=Object(F.range)(t.width).map(function(e){return c.a.createElement("div",{key:e,className:"bordertb"})});return c.a.createElement("div",{className:"msw-header"},c.a.createElement("div",{className:"bordertl"}),b,c.a.createElement("div",{className:"bordertr"}),c.a.createElement("div",{className:"borderlrlong"}),c.a.createElement(te,{value:n,id:"mines"}),c.a.createElement(ae,null),c.a.createElement(te,{value:a,id:"seconds"}),c.a.createElement("div",{className:"borderlrlong"}),c.a.createElement("div",{className:"borderjointl"}),b,c.a.createElement("div",{className:"borderjointr"}))},ce=function(e){return{width:20+16*e.width,height:30+16*e.height+32}},oe=function(){var e=Object(u.c)(_);return c.a.createElement("div",{id:"game",className:"msw",style:ce(e)},c.a.createElement(re,null),c.a.createElement($,null))},ie=function(){var e=Object(u.b)();return c.a.createElement("div",{className:"APP z100",onMouseOver:function(t){return e(d({target:"APP"}))}},c.a.createElement(P,null),c.a.createElement(oe,null))},ue=n(12),le=n(15),be=function(e,t){var n=e.board,a=e.mineField,r=I(e),c=n[t];if(!a||!W(c))return e;var o=a[t];if(A(o))return Object(v.a)(Object(v.a)({},e),{},{clockRunning:!1,gameEnded:!0,board:X(n,a,t),smileyButton:z.facedead});var i=q(n,a,t,r),u=function(e,t){for(var n=0;n<e.length;++n){var a=e[n],r=t[n];if(W(a)&&!A(r)||V(a)&&!A(r))return!1}return!0}(i,a),l=function(e,t){for(var n=Object(U.a)(e),a=0;a<e.length;++a){var r=e[a],c=t[a];Y(r)||W(r)&&A(c)&&(n[a]=B.bombflagged)}return n}(i,a);return Object(v.a)(Object(v.a)({},e),{},{board:u?l:i,gameEnded:u,clockRunning:!u,smileyButton:u?z.facewin:z.facesmile})},fe=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g[2];return{difficulty:n,minesCounter:n.config.mines,timeCounter:0,smileyButton:z.facesmile,board:(e=n.config.width,t=n.config.height,Array(e*t).fill(B.blank)),mineField:void 0,mouseLeft:void 0,mouseMiddle:void 0,mouseRight:void 0,clockRunning:!1,gameStarted:!1,gameEnded:!1,botActive:!1,botPlays:0,botMoves:{}}},de=Object(l.createReducer)(fe()).handleType("SET_DIFFICULTY",function(e,t){return fe(t.payload)}).handleType("SET_MINES_COUNTER",function(e,t){return Object(v.a)(Object(v.a)({},e),{},{minesCounter:t.payload})}).handleType("SET_TIME_COUNTER",function(e,t){return Object(v.a)(Object(v.a)({},e),{},{timeCounter:t.payload})}).handleType("SET_SMILEY_BUTTON",function(e,t){return Object(v.a)(Object(v.a)({},e),{},{smileyButton:t.payload})}).handleType("ON_MOUSE_DOWN",function(e,t){return e.gameEnded?e:t.payload.key===K.LEFT?Object(v.a)(Object(v.a)({},e),{},{mouseLeft:t.payload.target,smileyButton:z.faceooh}):t.payload.key===K.MIDDLE?Object(v.a)(Object(v.a)({},e),{},{mouseMiddle:t.payload.target,smileyButton:z.faceooh}):t.payload.key===K.RIGHT?Object(v.a)(Object(v.a)({},e),{},{mouseRight:t.payload.target}):e}).handleType("ON_MOUSE_UP",function(e,t){return e.gameEnded?e:t.payload.key===K.LEFT?Object(v.a)(Object(v.a)({},e),{},{mouseLeft:void 0,smileyButton:e.mouseRight?z.faceooh:z.facesmile}):t.payload.key===K.MIDDLE?Object(v.a)(Object(v.a)({},e),{},{mouseMiddle:void 0,smileyButton:e.mouseRight||e.mouseLeft?z.faceooh:z.facesmile}):t.payload.key===K.RIGHT?Object(v.a)(Object(v.a)({},e),{},{mouseRight:void 0,smileyButton:e.mouseLeft?z.faceooh:z.facesmile}):e}).handleType("ON_MOUSE_ENTER",function(e,t){return void 0!==e.mouseLeft&&void 0!==e.mouseRight?Object(v.a)(Object(v.a)({},e),{},{mouseLeft:t.payload.target,mouseRight:t.payload.target}):void 0!==e.mouseLeft?Object(v.a)(Object(v.a)({},e),{},{mouseLeft:t.payload.target}):void 0!==e.mouseMiddle?Object(v.a)(Object(v.a)({},e),{},{mouseMiddle:t.payload.target}):void 0!==e.mouseRight?Object(v.a)(Object(v.a)({},e),{},{mouseRight:t.payload.target}):e}).handleType("CELL_LEFT_CLICK",function(e,t){var n=e.gameEnded,a=e.gameStarted,r=e.board,c=_(e),o=c.width,i=c.height,u=c.mines;if(n)return e;var l=t.payload,b=l.x,f=l.y,d=y(b,f,o);if(!a){var m=G(o,i,b,f,u),s=q(r,m,d,o);return Object(v.a)(Object(v.a)({},e),{},{gameStarted:!0,mineField:m,clockRunning:!0,board:s})}return be(e,d)}).handleType("CELL_RIGHT_CLICK",function(e,t){var n=e.board,a=e.minesCounter;if(e.gameEnded)return e;var r=_(e).width,c=t.payload,o=c.x,i=c.y,u=y(o,i,r),l=n[u];if(W(l)){var b=Object(U.a)(n);return b[u]=B.bombflagged,Object(v.a)(Object(v.a)({},e),{},{board:b,minesCounter:a-1})}if(V(l)){var f=Object(U.a)(n);return f[u]=B.blank,Object(v.a)(Object(v.a)({},e),{},{board:f,minesCounter:a+1})}return e}).handleType("CELL_BOTH_CLICK",function(e,t){var n=e.board,a=e.mineField;if(e.gameEnded)return e;var r=_(e).width,c=t.payload,o=c.x,i=c.y,u=y(o,i,r),l=n[u];if(!a)return e;if(Y(l)){for(var b=J(u,r,n.length),f=Object(v.a)({},e),d=0;d<b.length;++d){var m=b[d];f=be(f,m)}return f}return e}).handleType("SMILEY_CLICK",function(e){return fe(e.difficulty)}).handleType("CLOCK_TICK",function(e){return Object(v.a)(Object(v.a)({},e),{},{timeCounter:e.timeCounter+1})}).handleType("SET_BOT_ACTIVE",function(e){return Object(v.a)(Object(v.a)({},e),{},{botActive:!e.botActive,botPlays:0})}).handleType("SET_BOT_PLAYS",function(e,t){return Object(v.a)(Object(v.a)({},e),{},{botPlays:e.botPlays+t.payload>=0&&e.botActive?e.botPlays+t.payload:0})}).handleType("SET_BOT_MOVES",function(e,t){var n=e.botMoves,a=t.payload,r=a.index,c=a.confidence;return n[r]=c,Object(v.a)(Object(v.a)({},e),{},{botMove:n})}),me=Object(ue.b)(de,Object(ue.a)(le.a));n(31);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,{store:me},c.a.createElement("div",{className:"Screen"},c.a.createElement(ie,null)))),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.890916f4.chunk.js.map